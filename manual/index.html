<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="manual.css"/>
		<link rel="stylesheet" type="text/css" href="../addons/breadcrumb/breadcrumb.css" />
		<link rel="stylesheet" type="text/css" href="../addons/items/items.css" />
        <script type="text/javascript" src="../src/js/jquery-1.6.1.min.js"></script>
        <script type="text/javascript" src="../src/js/Spin.js"></script>
		<script type="text/javascript" src="../addons/breadcrumb/breadcrumb.js"></script>
		<script type="text/javascript" src="../addons/items/items.js"></script>
        <script type="text/javascript">
        
            $.spin.configure({
                minWidth: 400,
                loader: function (elt){
                    var panel = elt.data('panel');
                
                    if (!panel || $.type(panel)!='string'){
                        $.error('Panel attribute missing or invalid');                        
                    }
                    
                    panel = $('#' + panel);
                    
                    if (!panel.length){
                        $.error('Panel Not Found');
                    }
                    
                    $.spin(panel.clone().html(), elt.getPanelTitle());
                }
            });
        </script>
        <title>jKaiten Demo</title>
    </head>
    <body data-panel="index" data-title="jKaiten Manual">
        <ol id="manual" style="display:none">
            <li id="index">
                <div class="block">
                    <p class="synopsys">
                        jKaiten allows web developers to design their applications
                        as a logical and continuous flow of screens.
                    </p>
                </div>
                <ol class="k-items">
                    <li class="k-item nav" data-panel="browsersupport">
                        <span class="k-left k-title">Supported Browsers</span>
                    </li>
                    <li class="k-item nav" data-panel="setup">
                        <span class="k-left k-title">Setup</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-loader">
                        <span class="k-left k-title">The Loader function</span>                
                        <span class="k-right">
                            <strong>important</strong>
                        </span>
                    </li>
                    <li class="k-item nav" data-panel="defaultloader">
                        <span class="k-left k-title">The default Loader</span>                
                        <span class="k-right">
                            <strong>important</strong>
                        </span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten">
                        <span class="k-left k-title">Spin Programming</span>                
                        <span class="k-right">API</span>
                    </li>
                    <li class="k-item nav" data-panel="addons">
                        <span class="k-left k-title">Addons</span>                
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-loader">
                        <span class="k-left k-title">Terms and definitions</span>                
                    </li>                                        
                </ol>                
            </li>
            <li id="browsersupport">
                <div class="block">
                    <p>                        
                        I have developed jKaiten on browsers available on my machines.
                    </p>
                </div>
                <ol class="k-items">
                    <li class="k-item">
                        <span class="k-left">Firefox 3.6</span>
                    </li>
                    <li class="k-item">
                        <span class="k-left">Firefox 4</span>
                    </li>
                    <li class="k-item">
                        <span class="k-left">Chrome 11</span>
                    </li>
                    <li class="k-item">
                        <span class="k-left">Safari 4</span>
                    </li>
                </ol>
            </li>
            <li id="setup">
                <div class="block">
                    <p>
                        Here is the basic HTML that you need to make jKaiten runs.
                    </p>
                    <p>
                        With such markup, jKaiten runs with default settings and without any addons.
                    </p>
                    <code class="codeblock">
&lt;html&gt;
    &lt;head&gt;
        &lt;script type="text/javascript" src="jKaiten/src/js/jquery-1.6.1.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="jKaiten/src/js/jKaiten.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body data-url="your_script.php">&lt;/body&gt;
&lt;/html&gt;
                    </code>
                </div>
            </li>
            <li id="jkaiten">
                <div class="block">
                    <p>
                        As you can see jKaiten API extends the jQuery object.
                    </p>
                    <p>
                        <em class="em">$.spin()</em> is probably the most interesting function. It also defines the namespace for the public API.
                    </p>
                </div>
                <ol class="k-items">
                    <li class="k-item nav" data-panel="jkaiten-kaiten">
                        <span class="k-left k-title">$.spin()</span>                        
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-configure">
                        <span class="k-left k-title">$.spin.configure()</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-moveto">
                        <span class="k-left k-title">$.spin.moveTo()</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-previous">
                        <span class="k-left k-title">$.spin.previous()</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-next">
                        <span class="k-left k-title">$.spin.next()</span>
                    </li>                    
                    <li class="k-item nav" data-panel="jkaiten-removeafter">
                        <span class="k-left k-title">$.spin.removeAfter()</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-numcolumns">
                        <span class="k-left k-title">$.spin.numColumns</span>
                    </li>
                    <li class="k-item nav" data-panel="jkaiten-maxcolumns">
                        <span class="k-left k-title">$.spin.maxColumns()</span>
                    </li>
                </ol>
            </li>
            <li id="jkaiten-kaiten">                
                <div class="block">
                    <h2 class="title">$.spin()</h2>
                    <p class="synopsys">
                        Creates a panel (jQuery object) and returns it. If
                        panel is positionned outside of visible range, it also 
                        moves.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin()</li>
                        <li class="func_signature">$.spin(html, [title])</li>                        
                        <li class="func_signature">$.spin(jQuery object, [title])</li>                        
                    </ul>     
                    <p>
                        Calling <em class="em">$.spin</em> without argument simply creates
                        and returns an empty panel.
                    </p>
                    <p>
                        First argument is the content of your panel. It can be either a 
                        string (e.g. <em class="em">'&lt;strong&gt;Hello World!&lt;/strong&gt;'</em>) 
                        or a jQuery object (e.g. <em class="em">$('&lt;strong&gt;Hello World!&lt;/strong&gt;')</em>).
                    </p>
                    <p>
                        Second argument is the title of your panel.
                    </p>                    
                </div>
                <div class="block">                    
                    <code class="codeblock">
//creates an empty panel
$.spin();
                    </code>
                    <button onclick="$.spin()">Run</button>
                    <code class="codeblock">
//Hello World!
$.spin('&lt;strong&gt;Hello World!&lt;/strong&gt;');
                    </code>
                    <button onclick="$.spin('<strong>Hello World!</strong>', 'Hello World!')">Run</button>
                </div>                
            </li><!--$.spin()-->
            <li id="jkaiten-configure">
                <div class="block">
                    <h2 class="title">$.spin.configure()</h2>
                    <p class="synopsys">
                        Configure jKaiten before its execution.
                    </p>
                    <p>
                        Note that <em class="em">$.spin.configure()</em> is designed to be executed only once. Any other calls to it will have no effect.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.configure(conf)</li>
                    </ul>
                    <p>
                        <em class="em">conf</em> is an object literal. Supported keys are <em class="em">minWidth</em> and <em class="em">loader</em>. Any other keys will be ignored.
                    </p>
                    <p>
                        <em class="em">minWidth</em> must be a number. It represents the minimal width of a panel. If not given or invalid jKaiten defaults to 320.
                    </p>
                    <p class="codeblock">
$.spin.configure({
    minWidth: 400
});
                    </p>
                    <p>
                        <em class="em">loader</em> must be a function. If not given or if <em class="em">loader</em> is not a function, jKaiten will use the default loader. (More info about the loader function below.)
                    </p>
                    <p class="codeblock">
$.spin.configure({
    loader: function (){
        $.spin('&lt;p&gt;Yet another panel&lt;/p&gt;');
    }
});                    
                    </p>
                </div>
            </li><!--$.spin.configure()-->
            <li id="jkaiten-moveto">
                <div class="block">
                    <h2 class="title">$.spin.moveTo()</h2>
                    <p class="synopsys">
                        Moves to given panel. If panel already is visible the
                        function has no effect.
                    </p>                    
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.moveTo(panel)</li>
                    </ul>
                    <p>
                        <em class="em">panel</em> is a jQuery object that 
                        represents a panel.
                    </p>
                    <p class="codeblock">
//Moves until panel is visible
$.spin.moveTo($('#panel_37'));
                    </p>
                </div>
            </li><!--$.spin.moveTo()-->
            <li id="jkaiten-previous">
                <div class="block">
                    <h2 class="title">$.spin.previous()</h2>
                    <p class="synopsys">
                        Moves to the panel that is at the left of the first visible
                        panel and returns it. If there is no such panel, it returns false.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.previous()</li>
                        <li class="func_signature">$.spin.previous(false)</li>
                    </ul>
                    <p>
                        In the second form, the function returns the panel but does not move.
                    </p>
                </div>
            </li> <!--$.spin.previous()-->
            <li id="jkaiten-next">
                <div class="block">
                    <h2 class="title">$.spin.next()</h2>
                    <p class="synopsys">
                        Moves to the panel that is at the right of the last visible
                        panel and returns it. If there is no such panel, it returns false.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.next()</li>
                        <li class="func_signature">$.spin.next(false)</li>
                    </ul>
                    <p>
                        In the second form, the function returns the panel but does not move.
                    </p>
                </div>
            </li> <!--$.spin.next()-->
            <li id="jkaiten-removeafter">
                <div class="block">
                    <h2 class="title">$.spin.removeAfter()</h2>
                    <p class="synopsys">
                        Removes all panels after given panel.
                    </p>                    
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.removeAfter(panel)</li>
                    </ul>
                    <p>
                        <em class="em">panel</em> is a jQuery object.
                    </p>
                </div>
            </li>
            <li id="jkaiten-numcolumns">
                <div class="block">
                    <h2 class="title">$.spin.numColumns()</h2>
                    <p class="synopsys">
                        Returns the current number of columns on display.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.numColumns()</li>
                    </ul>
                </div>
            </li>
            <li id="jkaiten-maxcolumns">
                <div class="block">
                    <h2 class="title">$.spin.maxColumns</h2>
                    <p class="synopsys">
                        Gets or sets the maximum number of columns on display. Number and size of the panels
                        will adapt automatically if necessary.
                    </p>
                    <ul class="func_signatures">
                        <li class="func_signature">$.spin.maxColumns()</li>
                        <li class="func_signature">$.spin.maxColumns(n)</li>
                    </ul>
                    <p>In both forms, the function returns the maximum number of columns.</p>
                    <p>
                        If argument <em class="em">n</em> is given, it represents the new maximum number of 
                        columns.
                    </p>
                    <p>
                        If there are three visible panels and you set the maximum of columns to two, one panel will be hidden and the two others will be resized to occupy all the width available. 
                    </p>
                </div>
            </li>
            <li id="jkaiten-loader">
                <div class="block">
                    <h2 class="title">The loader function</h2>
                    <p class="synopsys">
                        jKaiten executes the loader function each time a click is made on an element having the class <em class="em">nav</em>.                        
                    </p>                    
                    <p>
                        Examples of <em class="em">navigable elements</em>:
                    </p>
                    <p class="codeblock">
&lt;a class="<strong>nav</strong>"&gt;
    Click here to load the next panel
&lt;/a&gt;

&lt;button class="mybutton <strong>nav</strong>"&gt;
    Click here to do something
&lt;button&gt;

&lt;div class="<strong>nav</strong>"&gt;
    &lt;p&gt;Click here to read more&lt;/p&gt;
&lt;/div&gt;
                    </p>
                    <p>
                        The first parameter of the loader function is the element that has been clicked on (wrapped in a jQuery object).
                    </p>
                    <p>
                        jKaiten <strong>prevents any default action</strong> of a "navigable" element.
                    </p>
                    <p class="codeblock">
&lt;a class="nav" href="http://www.example.com"&gt;
    Click here to load the next panel.
    But you're not going to www.example.com!
&lt;/a&gt;
                    </p>
                    <h3 class="subtitle">Loader examples</h3>
                    <p>
                        This is a very simple loader (although not very useful). 
                        Each time it is executed (<em class="em">i.e. a "navigable" element is clicked</em>) 
                        it creates a "foobar" panel.
                    </p>
                    <p class="codeblock">
function FoobarLoader(elt){
    $.spin([
        '&lt;a class="nav"&gt;',
            'Click to load a foobar',
        '&lt;/a&gt;'
    ].join(''));
}
                    </p>
                    <p>
                        The next loader is a little more subtle... It shows a use case of the elt parameter.
                    </p>
                    <p class="codeblock">
function SubtleLoader(elt){
    if (elt.is('img')){
        $.spin('&lt;p&gt;Image&lt;/p&gt;');
    } else if (elt.is('button')){
        $.spin('&lt;p&gt;Button&lt;/p&gt;');
    } else {
        $.spin('&lt;p&gt;Foobar!!&lt;/p&gt;');
    }
}
                    </p>
                    <h3 class="subtitle">Setting up your own loader</h3>
                    <p class="synopsys">
                        Setting up your own loader is made by passing it to 
                        $.spin.configure(). (see jKaiten API.)
                    </p>
                    <p class="codeblock">
$.spin.configure({
    loader: function (elt){
        //your loading logic here...
    }
});
                    </p>
                    <p>
                        You also can or perhaps should do that inside an anonymous function 
                        that executes immediatly for better flexibility.
                    </p>
                    <p class="codeblock">
(function (){
    var foo, 
        bar;
        
    function LoaderHelper(){
        //some help logic
    }        
        
    function MyOwnLoader(elt){
        //your loading logic here
    }
    
    $.spin.configure({loader: MyOwnLoader});
})();
                    </p>                    
                </div>                
            </li><!--#jkaiten-loader-->   
            <li id="defaultloader">
                <div class="block">
                    <h2 class="title">Default Loader</h2>
                    <p class="synopsys">
                        jKaiten comes with an embedded default loader that performs an ajax call (GET). 
                        The call is made to an url that has been defined on the element.                        
                    </p>
                    <p>
                        
                    </p>                    
                    <p class="codeblock">
&lt;a 
    class="nav"
    <strong>data-url="panel-movies.php"</strong>&gt;    
    Click here to see my movies
&lt;/a&gt;
                    </p>
                    <p>or</p>
                    <p class="codeblock">
&lt;a 
    class="nav"
    <strong>data-url="controller.php?p=movies"</strong>&gt;
    Click here to see my movies
&lt;/a&gt;
                    </p>
                    <p>
                        When the ajax call is done, the default loader then simply does :
                    </p>
                    <p class="codeblock">
$.spin(response);
                    </p>
                    <p>
                        Which means that whatever is executed on the server 
                        <strong>it must returns HTML</strong>.
                    </p>
                    <p>
                        <strong style="color:midnightblue">The startup/default url</strong>
                    </p>
                    <p>
                        The startup url is <strong>mandatory</strong> and is called once the application 
                        has finished to load its resources. The startup url is set on the body element.
                    </p>
                    <p class="codeblock">
&lt;body <strong>data-url="panel.php"</strong>&gt;
    &lt;!--nothing--&gt;
&lt;/body&gt;
                    </p>
                    <p>
                        If a navigable element has no url defined, the default loader uses the startup url as a default.
                    </p>
                    <p class="codeblock">
&lt;button class="nav"&gt;
    This will call panel.php
&lt;/button&gt;
                    </p>
                    <p>
                        This can be useful if there is only one script on your 
                        server responsible for delivering panels contents. 
                    </p>
                </div>
            </li><!--/defaultloader-->
            <li id="addons">
                <div class="block">
                    <h2 class="title">Addons</h2>
                    <p class="synopsys">
                        An addon brings additional features.
                    </p>
                    <p>
                        The key idea behind addons is that I wanted to keep 
                        jKaiten core to its simplest form. It's a panels manager and that's all.
                    </p>
                    <p>
                        Addons can be seen as Firefox extensions. Developers can develop additional features without having to modify jKaiten source code.
                    </p>
                    <p>
                        <strong>Relax...</strong> An addon is simply a directory that contains your javascript and/or css files or anything else that you need. If you want to use an addon, simply includes the necessary files to your HTML document.
                    </p> 
                    <p>
                        At this time there are two "official" addons. You can put your own into the "addons" folder if you like.
                    </p>                    
                </div>
                <ol class="k-items">
                    <li class="k-item nav">
                        <span class="k-left k-title">Breadcrumb</span>
                    </li>
                    <li class="k-item nav">
                        <span class="k-left k-title">Navigation Items</span>
                    </li>                        
                </ol>
            </li> 
        </ol><!--end of static html-->
    </body>
</html>
